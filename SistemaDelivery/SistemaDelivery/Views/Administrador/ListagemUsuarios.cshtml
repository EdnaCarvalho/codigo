@model IEnumerable<Model.Models.Usuario>

@{
    ViewBag.Title = "ListagemUsuarios";
}

<center>
    <h2>Usuarios</h2>

    @if (Model == null)
    {
        <p> Nenhum Cliente Cadastrado. </p>
    }
    else
    {
        WebGrid tabela = new WebGrid(source: Model, rowsPerPage: 4, canPage: true,
            canSort: true, defaultSort: "Usuario");
        @tabela.GetHtml(caption: "", displayHeader: true, fillEmptyRows: true,
        emptyRowCellValue: "___", mode: WebGridPagerModes.All, numericLinksCount: 2,
        tableStyle: "table",
        columns: tabela.Columns(
            tabela.Column("Nome", "Nome"),
            tabela.Column("Telefone", "Telefone"),
            tabela.Column("Endereco.Bairro", "Bairro"),
            tabela.Column("Endereco.Cidade", "Cidade"),
            tabela.Column("Ações", "Ações", canSort: false,
                format: (item) => new HtmlString(String.Format("{0}|{1}", new object[] {
                    Html.ActionLink("Remover", "Delete", new { id = item.Id }).ToString(),
                    Html.ActionLink("Detalhes", "Details", new { id = item.Id }).ToString()
                }))
            )
        )
    );
    }
    <p>
        @Html.ActionLink("Adicionar Novo", "Create")
    </p>
</center>